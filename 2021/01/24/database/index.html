<!DOCTYPE html>
<html lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
<link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
<style>
    .pace .pace-progress {
        background: #1E92FB; /*进度条颜色*/
        height: 3px;
    }
    .pace .pace-progress-inner {
         box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
        border-top-color: #1E92FB;    /*上边框颜色*/
        border-left-color: #1E92FB;    /*左边框颜色*/
    }
</style>
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"ltom01241010.github.io","root":"/","scheme":"Pisces","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":false,"style":"mac"},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="¶一个难题 其实本节的内容，主要围绕着一个问题展开:  是把导师和部门放在一个表inst_dept中，还是放在分开放在两个表instructor,department中呢？  让我们分别看看两种方案吧  ¶方案一:放在一个表中    ID name salary dept_name building budget     22222 Einstein 95000 Physics Waston 70">
<meta property="og:type" content="article">
<meta property="og:title" content="关系数据库设计">
<meta property="og:url" content="http://ltom01241010.github.io/2021/01/24/database/index.html">
<meta property="og:site_name" content="ChineseSheep">
<meta property="og:description" content="¶一个难题 其实本节的内容，主要围绕着一个问题展开:  是把导师和部门放在一个表inst_dept中，还是放在分开放在两个表instructor,department中呢？  让我们分别看看两种方案吧  ¶方案一:放在一个表中    ID name salary dept_name building budget     22222 Einstein 95000 Physics Waston 70">
<meta property="og:locale">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gn14mptq8oj30fb02udfn.jpg">
<meta property="og:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gmz67iomzpj31jt0u0tk0.jpg">
<meta property="article:published_time" content="2021-01-24T07:13:16.000Z">
<meta property="article:modified_time" content="2021-01-26T08:26:53.106Z">
<meta property="article:author" content="ChineseSheep">
<meta property="article:tag" content="数据库📖">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://tva1.sinaimg.cn/large/008eGmZEgy1gn14mptq8oj30fb02udfn.jpg">

<link rel="canonical" href="http://ltom01241010.github.io/2021/01/24/database/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-Hans'
  };
</script>

  <title>关系数据库设计 | ChineseSheep</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">ChineseSheep</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="sitemap fa-fw"></i>Sitemap</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>Search
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="Searching..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-Hans">
    <link itemprop="mainEntityOfPage" href="http://ltom01241010.github.io/2021/01/24/database/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="https://tva1.sinaimg.cn/large/007S8ZIlly1gjmqrr57w8j30u00tyqbq.jpg">
      <meta itemprop="name" content="ChineseSheep">
      <meta itemprop="description" content="擅长面向cv的编程">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="ChineseSheep">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          关系数据库设计
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2021-01-24 15:13:16" itemprop="dateCreated datePublished" datetime="2021-01-24T15:13:16+08:00">2021-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2021-01-26 16:26:53" itemprop="dateModified" datetime="2021-01-26T16:26:53+08:00">2021-01-26</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h2 id="一个难题"><a class="header-anchor" href="#一个难题">¶</a>一个难题</h2>
<p>其实本节的内容，主要围绕着一个问题展开:</p>
<ul>
<li>是把导师和部门放在一个表<strong>inst_dept</strong>中，还是放在分开放在两个表<strong>instructor</strong>,<strong>department</strong>中呢？</li>
</ul>
<p>让我们分别看看两种方案吧</p>
<hr>
<h3 id="方案一-放在一个表中"><a class="header-anchor" href="#方案一-放在一个表中">¶</a>方案一:放在一个表中</h3>
<table>
<thead>
<tr>
<th style="text-align:center">ID</th>
<th style="text-align:center">name</th>
<th style="text-align:center">salary</th>
<th style="text-align:center">dept_name</th>
<th style="text-align:center">building</th>
<th style="text-align:center">budget</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">22222</td>
<td style="text-align:center">Einstein</td>
<td style="text-align:center">95000</td>
<td style="text-align:center">Physics</td>
<td style="text-align:center">Waston</td>
<td style="text-align:center">70000</td>
</tr>
<tr>
<td style="text-align:center">12121</td>
<td style="text-align:center">Wu</td>
<td style="text-align:center">90000</td>
<td style="text-align:center">Finance</td>
<td style="text-align:center">Painter</td>
<td style="text-align:center">120000</td>
</tr>
<tr>
<td style="text-align:center">45565</td>
<td style="text-align:center">Katz</td>
<td style="text-align:center">75000</td>
<td style="text-align:center">Comp.Sci</td>
<td style="text-align:center">Taylor</td>
<td style="text-align:center">10000</td>
</tr>
<tr>
<td style="text-align:center">10101</td>
<td style="text-align:center">Srinivasan</td>
<td style="text-align:center">65000</td>
<td style="text-align:center">Comp.Sci</td>
<td style="text-align:center">Taylor</td>
<td style="text-align:center">10000</td>
</tr>
<tr>
<td style="text-align:center">83821</td>
<td style="text-align:center">Brandt</td>
<td style="text-align:center">92000</td>
<td style="text-align:center">Comp.Sci</td>
<td style="text-align:center">Taylor</td>
<td style="text-align:center">10000</td>
</tr>
</tbody>
</table>
<center>inst_dept</center>
<p>一眼看去，表非常的直观，能清楚地了解每个老师的所有信息。而且，在查询时不需要使用join语句，对程序员也十分友好。这种方案看似非常不错，但却有两个非常严重的缺点。</p>
<blockquote>
<p>1.先有老师再有系</p>
</blockquote>
<p>如果大连理工大学创建了一个干饭系，但是由于这个系没有前景，所以迟迟没有老师愿意加入。我们没办法把干饭系加入到表中，因为每个记录在表中的系，都是有老师的。没有老师，就不能录入表格，在数据库中，要<strong>避免使用空值</strong>，所以把老师那里录入空值也不太好。</p>
<blockquote>
<p>2.有很多废信息</p>
</blockquote>
<p>假如大连理工大学有10000名教职工，却只有30个系，现在我们正在看有10000名教职工信息的表格</p>
<table>
<thead>
<tr>
<th style="text-align:center">ID</th>
<th style="text-align:center">name</th>
<th style="text-align:center">salary</th>
<th style="text-align:center">dept_name</th>
<th style="text-align:center">building</th>
<th style="text-align:center">budget</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">小陈</td>
<td style="text-align:center">95000</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">小王</td>
<td style="text-align:center">90000</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">小夏</td>
<td style="text-align:center">75000</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">小薛</td>
<td style="text-align:center">65000</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">小张</td>
<td style="text-align:center">92000</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
<tr>
<td style="text-align:center">……</td>
<td style="text-align:center">……</td>
<td style="text-align:center">……</td>
<td style="text-align:center">软国</td>
<td style="text-align:center">信息楼</td>
<td style="text-align:center">62000</td>
</tr>
</tbody>
</table>
<center>inst_dept</center>
<p>当我们看完软国的所有老师后，我们一定会想，为什么不单独把软国的<strong>办公地点</strong>和<strong>预算</strong>列出来呢，在每个老师后面都重复一遍是不是没啥必要😅</p>
<p>实际上，把所有老师后面都加上每个系的办公地点和预算，是对内存空间的浪费。特别是有10000名教职工的时候，每一排的浪费，在✖️10000之后，都会被无限放大。</p>
<hr>
<h3 id="方案二-放在两个表中"><a class="header-anchor" href="#方案二-放在两个表中">¶</a>方案二:放在两个表中</h3>
<table>
<thead>
<tr>
<th style="text-align:left">ID</th>
<th>name</th>
<th>dept_name</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">22222</td>
<td>Einstein</td>
<td>Physics</td>
<td>95000</td>
</tr>
<tr>
<td style="text-align:left">12121</td>
<td>Wu</td>
<td>Finance</td>
<td>90000</td>
</tr>
<tr>
<td style="text-align:left">45565</td>
<td>Katz</td>
<td>Comp.Sci</td>
<td>75000</td>
</tr>
<tr>
<td style="text-align:left">10101</td>
<td>Srinivasan</td>
<td>Comp.Sci</td>
<td>65000</td>
</tr>
<tr>
<td style="text-align:left">83821</td>
<td>Brandt</td>
<td>Comp.Sci</td>
<td>92000</td>
</tr>
</tbody>
</table>
<center>instructor</center>
<table>
<thead>
<tr>
<th style="text-align:center">dept_name</th>
<th style="text-align:center">building</th>
<th style="text-align:center">budget</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Physics</td>
<td style="text-align:center">Watson</td>
<td style="text-align:center">70000</td>
</tr>
<tr>
<td style="text-align:center">Finance</td>
<td style="text-align:center">Painter</td>
<td style="text-align:center">120000</td>
</tr>
<tr>
<td style="text-align:center">Comp.Sci</td>
<td style="text-align:center">Taylor</td>
<td style="text-align:center">10000</td>
</tr>
</tbody>
</table>
<center>department</center>
<p>方案二就好很多了，即使录入10000条数据，也不会浪费空间，需要查询老师院系的办公地点时，只需要将两个表连接后再查询就行了。</p>
<p>所以我们得出结论</p>
<ul>
<li>分开记录比合起来记录要好！❌</li>
</ul>
<p>这个结论是<strong>不严谨</strong>的，因为没有考虑分解有损的情况</p>
<hr>
<h3 id="有损分解"><a class="header-anchor" href="#有损分解">¶</a>有损分解</h3>
<p>故名思义，有损分解就是把大表分解成小表之后，会<strong>损失原始数据</strong>的分解</p>
<p>让我们来看一个例子，下面的是原表</p>
<table>
<thead>
<tr>
<th style="text-align:center">ID</th>
<th style="text-align:center">name</th>
<th style="text-align:center">street</th>
<th style="text-align:center">city</th>
<th style="text-align:center">salary</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">57766</td>
<td style="text-align:center">Kim</td>
<td style="text-align:center">Main</td>
<td style="text-align:center">Perryridge</td>
<td style="text-align:center">75000</td>
</tr>
<tr>
<td style="text-align:center">98776</td>
<td style="text-align:center">Kim</td>
<td style="text-align:center">North</td>
<td style="text-align:center">Hampton</td>
<td style="text-align:center">67000</td>
</tr>
</tbody>
</table>
<center>employee</center>
<p>我们把原表分解之后，两个Kim会出现<strong>混淆</strong>的现象</p>
<table>
<thead>
<tr>
<th>ID</th>
<th>name</th>
</tr>
</thead>
<tbody>
<tr>
<td>57766</td>
<td>Kim</td>
</tr>
<tr>
<td>98776</td>
<td>Kim</td>
</tr>
</tbody>
</table>
<p>。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。。</p>
<table>
<thead>
<tr>
<th>name</th>
<th>street</th>
<th>city</th>
<th>salary</th>
</tr>
</thead>
<tbody>
<tr>
<td>Kim</td>
<td>Main</td>
<td>Perryridge</td>
<td>75000</td>
</tr>
<tr>
<td>Kim</td>
<td>North</td>
<td>Hampton</td>
<td>67000</td>
</tr>
</tbody>
</table>
<p>如果现在要把两个表格合在一起，会无法分辨表一中的ID对应表二中的哪个Kim</p>
<h3 id="无损分解"><a class="header-anchor" href="#无损分解">¶</a>无损分解</h3>
<p>如果分解之后再合成，能够得到跟原来一样的表(没有损失信息)，就叫做<strong>无损分解</strong></p>
<p>用<strong>关系代数</strong>来表示，就是:</p>
<img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gn14mptq8oj30fb02udfn.jpg" style="zoom:50%;">
<hr>
<h2 id="使用函数依赖进行分解"><a class="header-anchor" href="#使用函数依赖进行分解">¶</a>使用函数依赖进行分解</h2>
<h3 id="表示方法"><a class="header-anchor" href="#表示方法">¶</a>表示方法</h3>
<p>关系模式是一个属性集，为了稍作区分，我们用<strong>三种</strong>不同的方法表示属性集</p>
<ul>
<li>α :表示属性集，但是<strong>不知道</strong>属性集是不是关系模式</li>
<li>r（R):表示属性集，这里的属性集<strong>特指关系模式</strong>，r代表关系的名字，不在意名字的话，可以省掉r，只写R</li>
</ul>
<p>超码是一个或多个属性的集合，可以在表中区分不同的实体，某集合只要包含了超码，也会变成超码，所以说超码的<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%B6%85%E9%9B%86">超集</a>也是超码</p>
<ul>
<li>K:表示属性集，这里的属性集<strong>特指超码</strong></li>
</ul>
<hr>
<h3 id="函数依赖"><a class="header-anchor" href="#函数依赖">¶</a>函数依赖</h3>
<blockquote>
<p>给定r（R）上的一个实例，我们判断这个实例满足函数依赖X→Y的条件是：对实例中<strong>所有的</strong>元组对t1和t2，若t1[X] = t2[X]，有t1[X] = t2[X]，则t1[Y] = t2[Y]</p>
</blockquote>
<p>通俗来讲就是：</p>
<blockquote>
<p>设X,Y是关系R的两个属性集合，当任何时刻R中的<strong>任意</strong>两个元组中的X属性值相同时，则它们的Y属性值也相同，则称X函数决定Y，或Y函数依赖于X。</p>
</blockquote>
<ul>
<li>例1：A→C在下表中是否成立？C→A呢？</li>
</ul>
<table>
<thead>
<tr>
<th>A</th>
<th>B</th>
<th>C</th>
</tr>
</thead>
<tbody>
<tr>
<td>a1</td>
<td>b1</td>
<td>c1</td>
</tr>
<tr>
<td>a1</td>
<td>b2</td>
<td>c1</td>
</tr>
<tr>
<td>a2</td>
<td>b2</td>
<td>c2</td>
</tr>
<tr>
<td>a2</td>
<td>b3</td>
<td>c2</td>
</tr>
<tr>
<td>a3</td>
<td>b3</td>
<td>c2</td>
</tr>
</tbody>
</table>
<p>写这种题要记住一句关键的话，<strong>一个X仅有一个Y对应</strong>，跟判段是否为函数十分相似</p>
<p>可以看到，a1对应c1，a2对应c2，a3也对应c3，A中的每一个值都仅有唯一的C值对应，所以A→C成立</p>
<p>但是在C中，c2对应a2和a3，所以C→A不成立</p>
<ul>
<li>例2:在关系模式R中，K→R是否成立？</li>
</ul>
<p>根据超码的定义，如果两个元组在超码上的值相同，那么这两个元组一定是同一个，所以，K→R成立</p>
<hr>
<h3 id="平凡函数依赖和非平凡函数依赖"><a class="header-anchor" href="#平凡函数依赖和非平凡函数依赖">¶</a>平凡函数依赖和非平凡函数依赖</h3>
<blockquote>
<p>若X→Y且X不包含Y,则称X→Y为非平凡函数依赖；否则若X包含Y，则必有X→Y,称此X→Y为平凡函数依赖.</p>
</blockquote>
<p>常见的平凡函数依赖有</p>
<ul>
<li>A→A</li>
<li>AB→A</li>
</ul>
<hr>
<h3 id="Armstrong公理"><a class="header-anchor" href="#Armstrong公理">¶</a>Armstrong公理</h3>
<blockquote>
<p>自反律：若X为一属性集且Y⊆X，则X→Y成立</p>
<p>增补律：若X→Y成立且Z为一属性集，则ZX→ZY成立</p>
<p>传递率：若X→Y和Y→Z成立，则X→成立</p>
</blockquote>
<p>公理推论：</p>
<blockquote>
<p>合并律：若X→Y和X→Z成立，则X→YZ成立</p>
<p>分解律：若X→ZY成立，则X→Y和X→Z成立</p>
<p>伪传递律：若X→Y和ZY→M成立，XZ→M成立</p>
</blockquote>
<p>让我们通过公理来证明一下推论</p>
<ul>
<li>合并律：</li>
</ul>
<p>因X→Y ，所以X→XY （增广律 XX→XY即X→XY）</p>
<p>因X→Z ，所以XY→YZ （增广律）</p>
<p>因X→XY，XY→YZ(增广律)</p>
<p>故X→YZ （传递律）</p>
<ul>
<li>分解律：</li>
</ul>
<p>因Y⊆ZY，所以ZY→Y(增广律)</p>
<p>因X→ZY，所以X→Y(传递律)</p>
<p>因Z⊆ZY，所以ZY→Z(增广律)</p>
<p>因X→ZY，所以Z→Y(传递律)</p>
<ul>
<li>伪传递律：</li>
</ul>
<p>因X→Y ，所以WX→WY （增广律）</p>
<p>因WY→Z ，所以XW→Z （传递律）</p>
<hr>
<h3 id="依赖函数集F及其闭包"><a class="header-anchor" href="#依赖函数集F及其闭包">¶</a>依赖函数集F及其闭包</h3>
<blockquote>
<p>用通俗的话来讲，F就是给出的依赖关系集，但是给出的依赖集一般给的很简单，往往可以<strong>进一步推导</strong>出别的依赖关系，把<strong>所有</strong>推导出来的依赖关系<strong>加上</strong>原来给出的依赖关系合在一起，就可以得到F的闭包F+</p>
</blockquote>
<p>我们不妨来看一道例题</p>
<ul>
<li>已知关系模式R(ABC)，F={A→C,B→C}，求F+</li>
</ul>
<p>这题的关键是，用{A→C,B→C}推导出所有可以推导出的依赖关系</p>
<p>这个过程一般很庞大，我们就只推一部分，主要是为了更好的理解F+</p>
<p>现在已知A→C，我们就可以推出AC→C(增广律)，我们把AC→C加入F+中</p>
<p>A→A在F中也没有，也可以加入到F+中</p>
<p>当然，F+远不止这些，因为还有很多依赖关系没有被推导出来，全推出来后合上F，就能得到F+了</p>
<hr>
<h2 id="范式"><a class="header-anchor" href="#范式">¶</a>范式</h2>
<h3 id="第一范式与原子域"><a class="header-anchor" href="#第一范式与原子域">¶</a>第一范式与原子域</h3>
<ul>
<li>原子域：具有原子性的域。</li>
<li>第一范式：在关系模型中，所有的域都应该是原子性的，即数据库表的每一列都是不可分割的原子数据项，而不能是集合，数组，记录等非原子数据项。</li>
</ul>
<p>例如三围这个属性，是胸围，腰围，臀围的集合，如果一个表中包含了三围这个属性，必须要<strong>拆分</strong>成胸围，腰围，臀围后才能满足第一范式。</p>
<p>简单来说，满足第一范式是关系模型的<strong>基本要求</strong>，要是不满足第一范式，就不能被称作是关系模型。后面的BC范式和第三范式都是建立在<strong>第一范式的基础上的</strong>。</p>
<hr>
<h3 id="BC范式-BCNF"><a class="header-anchor" href="#BC范式-BCNF">¶</a>BC范式(BCNF)</h3>
<blockquote>
<p>对F+中的形如X→Y的函数依赖，必须满足下面的两点之一</p>
<p>1.X→Y是平凡的函数依赖</p>
<p>2.X是超码</p>
</blockquote>
<p>通过BC范式，我们能够轻松的区分一个表需不需要拆分，只要不满足BC范式，就需要拆分</p>
<hr>
<h3 id="依据BC范式进行拆分"><a class="header-anchor" href="#依据BC范式进行拆分">¶</a>依据BC范式进行拆分</h3>
<p>经过检查，我们发现X→Y不满足BC范式，我们需要把表拆成两个部分</p>
<ul>
<li>(X ∩ Y)</li>
<li>(R - (Y - X))</li>
</ul>
<p>如果套用本文最开头大学的例子，X = dept_name，Y = {building, budget}</p>
<ul>
<li>(X ∩ Y) = (dept_name, building, budget)</li>
<li>(R - (Y - X)) = (ID, name, dept_name, salary)</li>
</ul>
<p>刚好是我们拆分后的两个表！</p>
<hr>
<h3 id="BC范式的局限"><a class="header-anchor" href="#BC范式的局限">¶</a>BC范式的局限</h3>
<blockquote>
<p>在设计数据库时，我们有的时候需要一些依赖关系如X → Y，这个依赖关系并不满足BC范式的要求，但是我们就是要保留这个依赖关系，这时BC范式就会暴露出<strong>要求过严</strong>的局限性</p>
</blockquote>
<p>让我们看一个例子：</p>
<img src="https://tva1.sinaimg.cn/large/008eGmZEgy1gmz67iomzpj31jt0u0tk0.jpg" style="zoom:50%;">
<p>我们有一个大学的E-R图，包含以下要求：</p>
<ul>
<li>一个教师只能在一个系中</li>
<li>一个学生可以有多个导师</li>
<li>一个学生在一个系中最多有一个导师</li>
</ul>
<p>根据以上条件和E-R图，我们可以得到两条函数依赖，需要在dept_name中成立</p>
<ul>
<li>i_ID → dept_name</li>
<li>s_ID, dept_name → i_ID</li>
</ul>
<p>如果按照BC范式的要求，i_ID并不是dept_name的超码(因为一个学生可以有多个导师)，我们需要对dept_advisor进行拆分</p>
<p>拆分为</p>
<ul>
<li>(s_ID, i_ID)</li>
<li>(i_ID, dept_name)</li>
</ul>
<p>但是拆分后，s_ID, dept_name → i_ID不再成立，与我们的实际要求相违背</p>
<p>所以用BC范式约束dept_advisor是不合理的</p>
<hr>
<h3 id="第三范式-3NF"><a class="header-anchor" href="#第三范式-3NF">¶</a>第三范式(3NF)</h3>
<p>第三范式可以看作是BC范式的宽松版，BC范式可以看作第三范式的特殊形式</p>
<p>第三范式在BC范式两条要求的基础上，加上了第三个条件</p>
<p><strong>对F+中的形如X→Y的函数依赖，必须满足下面的三点之一：</strong></p>
<blockquote>
<p>1.X→Y是平凡的函数依赖</p>
<p>2.X是超码</p>
<p>3.Y - X中的每个属性A都包含于R的一个候选码中</p>
</blockquote>
<p>如果我们用第三范式的要求来解上面那个例子，会是什么结果呢？</p>
<p>有下面两个函数依赖需要成立</p>
<ul>
<li>i_ID → dept_name</li>
<li>s_ID, dept_name → i_ID</li>
</ul>
<p>我们主要看<strong>i_ID → dept_name</strong></p>
<p>很明显，不满足前两条，那满不满足第三条呢？</p>
<p>我们先用dept_name - i_ID = dept_name</p>
<p>接下来，只需要证明dept_name包含于候选码中，就可以满足第三个条件了</p>
<p>由于s_ID, dept_name → i_ID，那么(s_ID, dept_name)至少是一个超码</p>
<p>不存在(s_ID,dept_name)的子集也为超码，所以(s_ID, dept_name)是候选码</p>
<p>所以dept_name包含于(s_ID, dept_name)候选码中，<strong>i_ID → dept_name</strong>满足第三个条件，不需要进行拆分！</p>
<hr>
<h2 id="属性集的闭包"><a class="header-anchor" href="#属性集的闭包">¶</a>属性集的闭包</h2>
<h3 id="函数确定"><a class="header-anchor" href="#函数确定">¶</a>函数确定</h3>
<blockquote>
<p>X是属性集，Y是属性，如果X → Y，则称Y被X函数确定</p>
</blockquote>
<h3 id="用函数确定判断超码"><a class="header-anchor" href="#用函数确定判断超码">¶</a>用函数确定判断超码</h3>
<p>我们不妨再回顾一下超码的知识</p>
<p>要证明X是超码，我们需要证明X→R，R是表中所有的属性的集合，所以我们需要证明X可以函数确定所有的属性</p>
<p>首先我们需要计算出F+，也就是所有的依赖关系，然后我们可能会得到诸如X→Z，X→M等依赖关系</p>
<p>当Y，Z，M等合起来能组成R时，就说明X是超码</p>
<p>但是这个做法有一个缺点，就是需要计算F+，很明显F+的计算是非常麻烦的，我们要尽量去避免</p>
<hr>
<h3 id="属性集闭包"><a class="header-anchor" href="#属性集闭包">¶</a>属性集闭包</h3>
<blockquote>
<p>令X为一个属性集，我们将函数依赖集F下被X函数确定的所有属性的集合称为F下X的闭包，记作X+</p>
</blockquote>
<ul>
<li><strong>有关系模式R&lt;U，F&gt;，其中U={A，B，C，D，E}，F={AB→C，B→D，C→E，EC→B，AC→B}，求（AB)+</strong></li>
</ul>
<p>首先，我们要从AB开始求，所以令X(0) = AB</p>
<p><strong>第一步</strong>，求X(1)。我们要先列出X(0)的非空子集，即AB的非空子集，很显然为{A，B，AB}。然后扫描F集合，寻找包含有{A，B，AB}的函数依赖，就可以得到：<strong>AB→C，B→D</strong>。我们就可以把C，D合入X(0)中得到X(1)，就可以求得<strong>X(1)=X(0)∪C∪D=ABCD</strong>。如果X(0)等于X(1)就说明继续进行下一步也会得到相同的结果，与离散数学中的传递闭包相似，于是我们可以结束步骤，所求即为答案，如果X(0)不等于X(1)就继续计算。</p>
<p><strong>第二步</strong>，求X(2)。同第一步求X(1)的非空真子集，然后在F中一次寻找函数依赖，可以得到：<strong>AB→C，B→D，C→E，AC→B</strong>。所以<strong>X(2)=X(1)∪C∪D∪E∪B=ABCDE</strong>。这时候发现X(2)已经等于全部属性集U了，不可能再计算出新的结果，我们就结束计算，得出**(AB)+ =ABCDE。**</p>
<p>让我们来看一下C++实现求解属性集闭包的代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//首先输入F中的函数依赖对数 </span></span><br><span class="line"><span class="comment">//其次输入具体的函数依赖</span></span><br><span class="line"><span class="comment">//输入要求解的属性集X</span></span><br><span class="line"><span class="comment">//输出:X关于F的闭包:X+</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*输入示例:</span></span><br><span class="line"><span class="comment">比如F=&#123;A→C,B→C&#125; 求A+</span></span><br><span class="line"><span class="comment">第一步: 2</span></span><br><span class="line"><span class="comment">第二步: A C </span></span><br><span class="line"><span class="comment">       B C</span></span><br><span class="line"><span class="comment">第三步: A</span></span><br><span class="line"><span class="comment">输出: &#123;AC&#125;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">FunctionDependence</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">	<span class="built_in">string</span> X; </span><br><span class="line">	<span class="built_in">string</span> Y;	</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">Init</span> <span class="params">(FunctionDependence FD[],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//函数依赖关系初始化</span></span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	<span class="built_in">string</span> x,y;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入F中的函数依赖（决定因素在左，被决定因素在右）&quot;</span>&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">	<span class="comment">//输入函数依赖集合F </span></span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	&#123;		</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;x&gt;&gt;y;</span><br><span class="line">		FD[i].X=x;</span><br><span class="line">		FD[i].Y=y;	</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;函数依赖集合F：&quot;</span>; </span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;F=&#123;&quot;</span> ;</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="comment">//显示已知的函数依赖集合F </span></span><br><span class="line"></span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;FD[i].X&lt;&lt;<span class="string">&quot;-&gt;&quot;</span>&lt;&lt;FD[i].Y;</span><br><span class="line">		<span class="keyword">if</span> (i&lt;n<span class="number">-1</span>)<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;, &quot;</span>;	</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;&#125;&quot;</span>&lt;&lt;<span class="built_in">endl</span>; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">IsIn</span><span class="params">(<span class="built_in">string</span> f,<span class="built_in">string</span> zz)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">bool</span> flag1=<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">int</span> len1=f.length();</span><br><span class="line">	<span class="keyword">int</span> len2=zz.length();</span><br><span class="line">	<span class="keyword">int</span> k=<span class="number">0</span>,t=<span class="number">0</span>,count1=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span> (k=<span class="number">0</span>;k&lt;len1;k++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (t=<span class="number">0</span>;t&lt;len2;t++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (f[k]==zz[t])</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">//flag1=true;break;</span></span><br><span class="line">				count1++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (count1==len1)</span><br><span class="line">	&#123;</span><br><span class="line">		flag1=<span class="literal">true</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">else</span> flag1=<span class="literal">false</span>;</span><br><span class="line">	<span class="keyword">return</span> flag1;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">CutAndSort</span><span class="params">(<span class="built_in">string</span> mm)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> size=mm.length();</span><br><span class="line">	<span class="keyword">int</span> kk=<span class="number">0</span>,ii=<span class="number">0</span>;;</span><br><span class="line">	<span class="built_in">string</span> closure;</span><br><span class="line">	<span class="keyword">int</span> a[<span class="number">200</span>]=&#123;<span class="number">0</span>&#125;;<span class="comment">//用来记录各个命题出现的次数</span></span><br><span class="line">	<span class="keyword">for</span>(kk=<span class="number">0</span>;kk&lt;size;kk++) </span><br><span class="line">	&#123;</span><br><span class="line">		a[(<span class="keyword">int</span>)mm[kk]]++;<span class="comment">//强制转换类型，储存各个因素的次数 </span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span> (ii=<span class="number">0</span>;ii&lt;<span class="number">200</span>;ii++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (a[ii]&gt;=<span class="number">1</span>)<span class="comment">//cout&lt;&lt;(char)ii;</span></span><br><span class="line">		closure+=(<span class="keyword">char</span>)ii;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">return</span> 	closure;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">X_Fn</span><span class="params">(FunctionDependence FD[],<span class="keyword">int</span> n,<span class="built_in">string</span> &amp;xx)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">string</span> yy=xx;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (IsIn(FD[i].X,yy)==<span class="literal">true</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			xx+=FD[i].Y;</span><br><span class="line">		&#125;		</span><br><span class="line">	&#125;</span><br><span class="line">	yy=CutAndSort(yy);</span><br><span class="line">	xx=CutAndSort(xx);	</span><br><span class="line">	<span class="keyword">if</span> (xx!=yy)</span><br><span class="line">	&#123;</span><br><span class="line">		X_Fn(FD,n,xx);<span class="comment">//递归 </span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> xx; </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">FD</span><span class="params">(FunctionDependence FD[],<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">//输入 X</span></span><br><span class="line">	<span class="built_in">string</span> xx;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line"></span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\n请输入属性集X：&quot;</span>; </span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt; xx;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;\n&quot;</span>&lt;&lt;xx&lt;&lt;<span class="string">&quot;关于F的闭包：&#123;&quot;</span>;</span><br><span class="line">	<span class="comment">//求X关于F的闭包</span></span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;X_Fn(FD,n,xx);</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;&#125;\n&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> N;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">&quot;请输入F中函数依赖的组数:&quot;</span>; </span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;N;</span><br><span class="line">	</span><br><span class="line">	FunctionDependence fd[N];</span><br><span class="line">	Init(fd,N);	</span><br><span class="line">	FD(fd,N);</span><br><span class="line">	FD(fd,N);</span><br><span class="line">	FD(fd,N);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h3 id="属性集闭包用途"><a class="header-anchor" href="#属性集闭包用途">¶</a>属性集闭包用途</h3>
<ul>
<li>判断X是否为超码，如果X+包含了R中的所有属性，就说明X是超码</li>
<li>用来判断X→Y，如果Y属于X+，则X→Y成立</li>
<li>计算F+，我们通过计算所有属性的闭包，然后根据闭包得到函数依赖，把所有得到的函数依赖合在一起，就是F+</li>
</ul>
<p><strong>例题：R{A,B,C,D}，D→A，C→A，C→D，B→C<br>
请问候选码是？是否属于BC范式？</strong></p>
<blockquote>
<p>(1)首先我们求解A+，B+，C+，D+</p>
<p>使用上面的C++代码会很方便，这里我直接给出结果</p>
<p>A+ = {A}，B+ = {ABCD}，C+ = {ACD}，D+ = {AD}</p>
<p>很明显，B是最小超码，即为候选码</p>
<p>(2)D→A既不满足<strong>D是超码</strong>，也不满足<strong>D包含A</strong>，所以R不满足BCNF</p>
</blockquote>
<hr>
<h2 id="结语"><a class="header-anchor" href="#结语">¶</a>结语</h2>
<p>本文主要参照《数据库系统概念》这本书，文中很多例子都出自此书，借着写博客的机会，把这本书的第八章又看了一遍。写完文章，看着电脑里面4个G的无声录屏，真是太尴尬了🌝，哈哈哈哈哈哈哈。</p>

    </div>


    <div>
      
         <div>
      
          <div style="text-align:center;color: #ccc;font-size:14px;">-------------本文结束感谢您的阅读-------------</div>
      
  </div>
      
    </div>
    
    
    

      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%F0%9F%93%96/" rel="tag"><i class="fa fa-tag"></i> 数据库📖</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/12/17/forkthreadcreate/" rel="prev" title="forkthreadcreate">
      <i class="fa fa-chevron-left"></i> forkthreadcreate
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%80%E4%B8%AA%E9%9A%BE%E9%A2%98"><span class="nav-number">1.</span> <span class="nav-text">一个难题</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%A1%88%E4%B8%80-%E6%94%BE%E5%9C%A8%E4%B8%80%E4%B8%AA%E8%A1%A8%E4%B8%AD"><span class="nav-number">1.1.</span> <span class="nav-text">方案一:放在一个表中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%B9%E6%A1%88%E4%BA%8C-%E6%94%BE%E5%9C%A8%E4%B8%A4%E4%B8%AA%E8%A1%A8%E4%B8%AD"><span class="nav-number">1.2.</span> <span class="nav-text">方案二:放在两个表中</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%9C%89%E6%8D%9F%E5%88%86%E8%A7%A3"><span class="nav-number">1.3.</span> <span class="nav-text">有损分解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%97%A0%E6%8D%9F%E5%88%86%E8%A7%A3"><span class="nav-number">1.4.</span> <span class="nav-text">无损分解</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E8%BF%9B%E8%A1%8C%E5%88%86%E8%A7%A3"><span class="nav-number">2.</span> <span class="nav-text">使用函数依赖进行分解</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E7%A4%BA%E6%96%B9%E6%B3%95"><span class="nav-number">2.1.</span> <span class="nav-text">表示方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">2.2.</span> <span class="nav-text">函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96%E5%92%8C%E9%9D%9E%E5%B9%B3%E5%87%A1%E5%87%BD%E6%95%B0%E4%BE%9D%E8%B5%96"><span class="nav-number">2.3.</span> <span class="nav-text">平凡函数依赖和非平凡函数依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Armstrong%E5%85%AC%E7%90%86"><span class="nav-number">2.4.</span> <span class="nav-text">Armstrong公理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E5%87%BD%E6%95%B0%E9%9B%86F%E5%8F%8A%E5%85%B6%E9%97%AD%E5%8C%85"><span class="nav-number">2.5.</span> <span class="nav-text">依赖函数集F及其闭包</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8C%83%E5%BC%8F"><span class="nav-number">3.</span> <span class="nav-text">范式</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%80%E8%8C%83%E5%BC%8F%E4%B8%8E%E5%8E%9F%E5%AD%90%E5%9F%9F"><span class="nav-number">3.1.</span> <span class="nav-text">第一范式与原子域</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BC%E8%8C%83%E5%BC%8F-BCNF"><span class="nav-number">3.2.</span> <span class="nav-text">BC范式(BCNF)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BE%9D%E6%8D%AEBC%E8%8C%83%E5%BC%8F%E8%BF%9B%E8%A1%8C%E6%8B%86%E5%88%86"><span class="nav-number">3.3.</span> <span class="nav-text">依据BC范式进行拆分</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#BC%E8%8C%83%E5%BC%8F%E7%9A%84%E5%B1%80%E9%99%90"><span class="nav-number">3.4.</span> <span class="nav-text">BC范式的局限</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E8%8C%83%E5%BC%8F-3NF"><span class="nav-number">3.5.</span> <span class="nav-text">第三范式(3NF)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E9%9B%86%E7%9A%84%E9%97%AD%E5%8C%85"><span class="nav-number">4.</span> <span class="nav-text">属性集的闭包</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%87%BD%E6%95%B0%E7%A1%AE%E5%AE%9A"><span class="nav-number">4.1.</span> <span class="nav-text">函数确定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E5%87%BD%E6%95%B0%E7%A1%AE%E5%AE%9A%E5%88%A4%E6%96%AD%E8%B6%85%E7%A0%81"><span class="nav-number">4.2.</span> <span class="nav-text">用函数确定判断超码</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E9%9B%86%E9%97%AD%E5%8C%85"><span class="nav-number">4.3.</span> <span class="nav-text">属性集闭包</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B1%9E%E6%80%A7%E9%9B%86%E9%97%AD%E5%8C%85%E7%94%A8%E9%80%94"><span class="nav-number">4.4.</span> <span class="nav-text">属性集闭包用途</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BB%93%E8%AF%AD"><span class="nav-number">5.</span> <span class="nav-text">结语</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="ChineseSheep"
      src="https://tva1.sinaimg.cn/large/007S8ZIlly1gjmqrr57w8j30u00tyqbq.jpg">
  <p class="site-author-name" itemprop="name">ChineseSheep</p>
  <div class="site-description" itemprop="description">擅长面向cv的编程</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">10</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">3</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">6</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">ChineseSheep</span>
</div>
<div class="theme-info">
  <div class="powered-by"></div>
  <span class="post-count">所有博客共18.6k字</span>
</div>
        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

</body>
</html>
